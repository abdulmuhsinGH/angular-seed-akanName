var fs = require('graceful-fs');
var path = require('path');
var Logger = require('bower-logger');
var Resolver = require('../../../lib/core/resolvers/Resolver');
var defaultConfig = require('../../../lib/config');

<<<<<<< HEAD
var resolver = new Resolver({ source: 'foo' }, defaultConfig, new Logger());
=======
var resolver = new Resolver({ source: 'foo' }, defaultConfig(), new Logger());
>>>>>>> 15ba42d088e9a77be8036efbc2189d0ea4c8dfc3
resolver._createTempDir()
.then(function (dir) {
    // Need to write something to prevent tmp to automatically
    // remove the temp dir (it removes if empty)
    fs.writeFileSync(path.join(dir, 'some_file'), 'foo');

    // Force an error
    throw new Error('Some error');
})
.done();
